{"ast":null,"code":"import { state, style, trigger } from '@angular/animations';\nimport { EventEmitter } from '@angular/core';\nimport { MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { catchError, delay, throwError } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/material/dialog\";\nimport * as i2 from \"../../../../services/movie.service\";\nimport * as i3 from \"../../../../services/error.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"../../../../shared/components/loader/loader.component\";\nimport * as i6 from \"../../../../shared/pipes/stars-rating.pipe\";\nfunction ModalComponent_section_0_app_loader_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-loader\");\n  }\n}\nfunction ModalComponent_section_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"section\", 1);\n    i0.ɵɵelementContainerStart(1);\n    i0.ɵɵtemplate(2, ModalComponent_section_0_app_loader_2_Template, 1, 0, \"app-loader\", 2);\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵelementStart(3, \"button\", 3);\n    i0.ɵɵlistener(\"click\", function ModalComponent_section_0_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.closeModal());\n    });\n    i0.ɵɵtext(4, \"\\u274C\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"h2\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"article\", 4)(8, \"div\", 5);\n    i0.ɵɵelement(9, \"img\", 6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"div\", 7)(11, \"p\", 8);\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"div\", 9)(14, \"p\")(15, \"strong\");\n    i0.ɵɵtext(16, \"Diretor:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"p\")(19, \"strong\");\n    i0.ɵɵtext(20, \"Escritor:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(21);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"p\")(23, \"strong\");\n    i0.ɵɵtext(24, \"Ator:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(25);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"p\")(27, \"strong\");\n    i0.ɵɵtext(28, \"Pa\\u00EDs:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(29);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(30, \"p\")(31, \"strong\");\n    i0.ɵɵtext(32, \"Linguagem:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(33);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(34, \"p\")(35, \"strong\");\n    i0.ɵɵtext(36, \"Tempo de execu\\u00E7\\u00E3o:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(37);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(38, \"p\")(39, \"strong\");\n    i0.ɵɵtext(40, \"Genero:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(41);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(42, \"p\")(43, \"strong\");\n    i0.ɵɵtext(44, \"Lan\\u00E7amento:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(45);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(46, \"p\")(47, \"strong\");\n    i0.ɵɵtext(48, \"Pr\\u00EAmios:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(49);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(50, \"p\")(51, \"strong\");\n    i0.ɵɵtext(52, \"Classifica\\u00E7\\u00E3o IMDB:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(53);\n    i0.ɵɵpipe(54, \"starsRating\");\n    i0.ɵɵelementStart(55, \"strong\");\n    i0.ɵɵtext(56);\n    i0.ɵɵelementEnd()()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.isLoading);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r0.data.title);\n    i0.ɵɵadvance(3);\n    i0.ɵɵpropertyInterpolate(\"src\", ctx_r0.movie.Poster, i0.ɵɵsanitizeUrl);\n    i0.ɵɵpropertyInterpolate1(\"alt\", \"\", ctx_r0.movie.Title, \" poster\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r0.movie.Plot);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.movie.Director, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.movie.Writer, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.movie.Actors, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.movie.Country, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.movie.Language, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.movie.Runtime, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.movie.Genre, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.movie.Released, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.movie.Awards, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(54, 16, ctx_r0.movie.imdbRating), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r0.movie.imdbRating, \" \");\n  }\n}\nexport class ModalComponent {\n  constructor(dialog, movieService, errorService, data) {\n    this.dialog = dialog;\n    this.movieService = movieService;\n    this.errorService = errorService;\n    this.data = data;\n    this.hasErrorEmitter = new EventEmitter();\n    this.movie = {};\n    this.isLoading = false;\n    this.hasError = false;\n  }\n  ngOnInit() {\n    this.isLoading = true;\n    this.movieService.getMovieById(this.data.imdbID).pipe(delay(2000), catchError(error => {\n      this.errorService.openSnackBar('Ocorreu um erro ao carregar o filme');\n      this.isLoading = false;\n      this.hasError = true;\n      this.hasErrorEmitter.emit(true);\n      return throwError(() => error);\n    })).subscribe(data => {\n      this.movie = data;\n      this.isLoading = false;\n    });\n  }\n  closeModal() {\n    this.dialog.closeAll();\n  }\n}\nModalComponent.ɵfac = function ModalComponent_Factory(t) {\n  return new (t || ModalComponent)(i0.ɵɵdirectiveInject(i1.MatDialog), i0.ɵɵdirectiveInject(i2.MovieService), i0.ɵɵdirectiveInject(i3.ErrorService), i0.ɵɵdirectiveInject(MAT_DIALOG_DATA));\n};\nModalComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ModalComponent,\n  selectors: [[\"app-modal\"]],\n  decls: 1,\n  vars: 1,\n  consts: [[\"class\", \"modal-container\", 4, \"ngIf\"], [1, \"modal-container\"], [4, \"ngIf\"], [1, \"close-modal\", 3, \"click\"], [1, \"movie-info\"], [1, \"movie-info__poster\"], [3, \"src\", \"alt\"], [1, \"movie-details\"], [1, \"movie-details__plot\"], [1, \"other-infos\"]],\n  template: function ModalComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, ModalComponent_section_0_Template, 57, 18, \"section\", 0);\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", !ctx.hasError);\n    }\n  },\n  dependencies: [i4.NgIf, i5.LoaderComponent, i6.StarsRatingPipe],\n  styles: [\"[_nghost-%COMP%] {\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  height: auto;\\n  width: 100%;\\n  color: #000;\\n  padding: 1rem;\\n  position: relative;\\n}\\n\\n.modal-container[_ngcontent-%COMP%] {\\n  max-height: 70vh;\\n  overflow-y: auto;\\n}\\n.modal-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%] {\\n  padding-bottom: 0.8rem;\\n  text-align: center;\\n  font-size: 1.2rem;\\n  font-weight: 900;\\n}\\n\\n.close-modal[_ngcontent-%COMP%] {\\n  background-color: transparent;\\n  border: none;\\n  cursor: pointer;\\n  font-size: 1rem;\\n  position: absolute;\\n  right: 2rem;\\n  top: 1rem;\\n}\\n\\n.movie-info__poster[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  margin-bottom: 1rem;\\n}\\n.movie-info__poster[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\\n  width: 10rem;\\n  border-radius: 10px;\\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);\\n}\\n\\n.movie-details__plot[_ngcontent-%COMP%] {\\n  margin-bottom: 1rem;\\n  font-size: 1.1rem;\\n  text-align: justify;\\n  font-weight: 700;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  display: -webkit-box;\\n  -webkit-line-clamp: 10;\\n  -webkit-box-orient: vertical;\\n}\\n\\n.other-infos[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\\n  margin-bottom: 0.3rem;\\n  font-size: 1rem;\\n  font-weight: 400;\\n}\\n.other-infos[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%] {\\n  font-weight: 900;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvbW9kdWxlcy9tb3ZpZXMvY29tcG9uZW50cy9tb2RhbC9tb2RhbC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQTtFQUNFLGFBQUE7RUFDQSx1QkFBQTtFQUNBLG1CQUFBO0VBQ0EsWUFBQTtFQUNBLFdBQUE7RUFDQSxXQUFBO0VBQ0EsYUFBQTtFQUNBLGtCQUFBO0FBREY7O0FBSUE7RUFDRSxnQkFBQTtFQUNBLGdCQUFBO0FBREY7QUFHRTtFQUNFLHNCQUFBO0VBQ0Esa0JBQUE7RUFDQSxpQkFBQTtFQUNBLGdCQUFBO0FBREo7O0FBS0E7RUFDRSw2QkFBQTtFQUNBLFlBQUE7RUFDQSxlQUFBO0VBQ0EsZUFBQTtFQUNBLGtCQUFBO0VBQ0EsV0FBQTtFQUNBLFNBQUE7QUFGRjs7QUFNRTtFQUNFLGFBQUE7RUFDQSx1QkFBQTtFQUNBLG1CQUFBO0VBQ0EsbUJBQUE7QUFISjtBQUtJO0VBQ0UsWUFBQTtFQUNBLG1CQUFBO0VBQ0EsdUNBQUE7QUFITjs7QUFTRTtFQUNFLG1CQUFBO0VBQ0EsaUJBQUE7RUFDQSxtQkFBQTtFQUNBLGdCQUFBO0VBQ0EsZ0JBQUE7RUFDQSx1QkFBQTtFQUNBLG9CQUFBO0VBQ0Esc0JBQUE7RUFDQSw0QkFBQTtBQU5KOztBQVdFO0VBQ0UscUJBQUE7RUFDQSxlQUFBO0VBQ0EsZ0JBQUE7QUFSSjtBQVVJO0VBQ0UsZ0JBQUE7QUFSTiIsInNvdXJjZXNDb250ZW50IjpbIkBpbXBvcnQgXCJ2YXJpYWJsZXMuc2Nzc1wiO1xuXG46aG9zdCB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBoZWlnaHQ6IGF1dG87XG4gIHdpZHRoOiAxMDAlO1xuICBjb2xvcjogIzAwMDtcbiAgcGFkZGluZzogMXJlbTtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xufVxuXG4ubW9kYWwtY29udGFpbmVyIHtcbiAgbWF4LWhlaWdodDogNzB2aDtcbiAgb3ZlcmZsb3cteTogYXV0bztcblxuICBoMiB7XG4gICAgcGFkZGluZy1ib3R0b206IDAuOHJlbTtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgZm9udC1zaXplOiAxLjJyZW07XG4gICAgZm9udC13ZWlnaHQ6IG1hcC1nZXQoJGZvbnQtd2VpZ2h0cywgXCJibGFja1wiKTtcbiAgfVxufVxuXG4uY2xvc2UtbW9kYWwge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcbiAgYm9yZGVyOiBub25lO1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIGZvbnQtc2l6ZTogMXJlbTtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICByaWdodDogMnJlbTtcbiAgdG9wOiAxcmVtO1xufVxuXG4ubW92aWUtaW5mbyB7XG4gICZfX3Bvc3RlciB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIG1hcmdpbi1ib3R0b206IDFyZW07XG5cbiAgICBpbWcge1xuICAgICAgd2lkdGg6IDEwcmVtO1xuICAgICAgYm9yZGVyLXJhZGl1czogMTBweDtcbiAgICAgIGJveC1zaGFkb3c6IDAgMCAxMHB4IHJnYmEoMCwgMCwgMCwgMC4zKTtcbiAgICB9XG4gIH1cbn1cblxuLm1vdmllLWRldGFpbHMge1xuICAmX19wbG90IHtcbiAgICBtYXJnaW4tYm90dG9tOiAxcmVtO1xuICAgIGZvbnQtc2l6ZTogMS4xcmVtO1xuICAgIHRleHQtYWxpZ246IGp1c3RpZnk7XG4gICAgZm9udC13ZWlnaHQ6IG1hcC1nZXQoJGZvbnQtd2VpZ2h0cywgXCJib2xkXCIpO1xuICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XG4gICAgZGlzcGxheTogLXdlYmtpdC1ib3g7XG4gICAgLXdlYmtpdC1saW5lLWNsYW1wOiAxMDtcbiAgICAtd2Via2l0LWJveC1vcmllbnQ6IHZlcnRpY2FsO1xuICB9XG59XG5cbi5vdGhlci1pbmZvcyB7XG4gIHAge1xuICAgIG1hcmdpbi1ib3R0b206IDAuM3JlbTtcbiAgICBmb250LXNpemU6IDFyZW07XG4gICAgZm9udC13ZWlnaHQ6IG1hcC1nZXQoJGZvbnQtd2VpZ2h0cywgXCJyZWd1bGFyXCIpO1xuXG4gICAgc3Ryb25nIHtcbiAgICAgIGZvbnQtd2VpZ2h0OiBtYXAtZ2V0KCRmb250LXdlaWdodHMsIFwiYmxhY2tcIik7XG4gICAgfVxuICB9XG59XG4iXSwic291cmNlUm9vdCI6IiJ9 */\"],\n  data: {\n    animation: [trigger('openClose', [state('open', style({}))])]\n  }\n});","map":{"version":3,"mappings":"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","names":["state","style","trigger","EventEmitter","MAT_DIALOG_DATA","catchError","delay","throwError","i0","ModalComponent","constructor","dialog","movieService","errorService","data","ngOnInit","isLoading","getMovieById","imdbID","pipe","error","openSnackBar","hasError","hasErrorEmitter","emit","subscribe","movie","closeModal","closeAll","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\55989\\Documents\\Projetos-WEB\\Angular\\angular-movie-listing-main\\src\\app\\modules\\movies\\components\\modal\\modal.component.ts","C:\\Users\\55989\\Documents\\Projetos-WEB\\Angular\\angular-movie-listing-main\\src\\app\\modules\\movies\\components\\modal\\modal.component.html"],"sourcesContent":["import { state, style, trigger } from '@angular/animations';\nimport { Component, EventEmitter, Inject, OnInit } from '@angular/core';\nimport { MAT_DIALOG_DATA, MatDialog } from '@angular/material/dialog';\nimport { catchError, delay, throwError } from 'rxjs';\nimport { IMovie } from '../../../../interfaces/movie';\nimport { ErrorService } from '../../../../services/error.service';\nimport { MovieService } from '../../../../services/movie.service';\n\n@Component({\n  selector: 'app-modal',\n  templateUrl: './modal.component.html',\n  styleUrls: ['./modal.component.scss'],\n  animations: [trigger('openClose', [state('open', style({}))])],\n})\nexport class ModalComponent implements OnInit {\n  public hasErrorEmitter = new EventEmitter<boolean>();\n\n  public movie: IMovie = {};\n  public isLoading = false;\n  public hasError = false;\n\n  constructor(\n    public dialog: MatDialog,\n    private movieService: MovieService,\n    private errorService: ErrorService,\n    @Inject(MAT_DIALOG_DATA) public data: any\n  ) {}\n\n  public ngOnInit(): void {\n    this.isLoading = true;\n\n    this.movieService\n      .getMovieById(this.data.imdbID)\n      .pipe(\n        delay(2000),\n        catchError((error) => {\n          this.errorService.openSnackBar('Ocorreu um erro ao carregar o filme');\n          this.isLoading = false;\n          this.hasError = true;\n          this.hasErrorEmitter.emit(true);\n\n          return throwError(() => error);\n        })\n      )\n      .subscribe((data) => {\n        this.movie = data;\n        this.isLoading = false;\n      });\n  }\n\n  public closeModal() {\n    this.dialog.closeAll();\n  }\n}\n","<section class=\"modal-container\" *ngIf=\"!hasError\">\n  <ng-container>\n    <app-loader *ngIf=\"isLoading\"></app-loader>\n  </ng-container>\n\n  <button class=\"close-modal\" (click)=\"closeModal()\">❌</button>\n  <h2>{{ data.title }}</h2>\n\n  <article class=\"movie-info\">\n    <div class=\"movie-info__poster\">\n      <img src=\"{{ movie.Poster }}\" alt=\"{{ movie.Title }} poster\" />\n    </div>\n\n    <div class=\"movie-details\">\n      <p class=\"movie-details__plot\">{{ movie.Plot }}</p>\n\n      <div class=\"other-infos\">\n        <p><strong>Diretor:</strong> {{ movie.Director }}</p>\n        <p><strong>Escritor:</strong> {{ movie.Writer }}</p>\n        <p><strong>Ator:</strong> {{ movie.Actors }}</p>\n        <p><strong>País:</strong> {{ movie.Country }}</p>\n        <p><strong>Linguagem:</strong> {{ movie.Language }}</p>\n        <p><strong>Tempo de execução:</strong> {{ movie.Runtime }}</p>\n        <p><strong>Genero:</strong> {{ movie.Genre }}</p>\n        <p><strong>Lançamento:</strong> {{ movie.Released }}</p>\n        <p><strong>Prêmios:</strong> {{ movie.Awards }}</p>\n        <p>\n          <strong>Classificação IMDB:</strong>\n          {{ movie.imdbRating | starsRating }}\n          <strong>{{ movie.imdbRating }} </strong>\n        </p>\n      </div>\n    </div>\n  </article>\n</section>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}